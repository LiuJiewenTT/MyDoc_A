# libssh2上使用SFTP的基本逻辑

**步骤**:

1. 初始化libssh2全局加密库
2. 初始化并设置socket参数
3. 连接socket
4. 建立ssh通讯会话
5. 设置会话模式
6. 握手
7. 登入
8. 初始化SFTP系统
9. 打开文件
10. 操作文件内容
11. 关闭文件
12. 关闭SFTP会话
13. 关闭ssh连接
14. 释放ssh连接资源
15. 关闭socket
16. 取消加密库全局化

**逻辑**：

1. 连接传输层（可以使用socket(工具，介于传输层和应用层)建立TCP/UDP连接）
2. 连接ssh
3. 开启SFTP隧道
4. 操作
5. 关闭SFTP隧道
6. 断开ssh
7. 释放ssh资源
8. 关闭传输层连接

> 注：ssh和FTP、SFTP都是属于应用层的协议，socket只是一个帮助建立传输层连接的工具，传输层包括TCP和UDP。